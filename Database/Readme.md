## Database?
> 기존에 파일 시스템을 이용하여 데이터를 관리하면서 발생되는 문제점을 해결하기 위해 개발
> 
> 1. 데이터를 각각의 파일 단위로 저장하기 때문에 해당 파일과 애플리케이션이 상호 연동이 되어야 함
> 2. 이로 인해 데이터 종속성, 중복성문제와, 데이터 무결성이 보장되지 않는다는 문제점이 발생

### 특징
#### 1. 독립성
- 물리적 독립성 : 기존 소프트웨어의 수정 없이 DB 사이즈를 늘리거나 성능 향상을 위해 데이터 파일을 수정할 수 있음
- 논리적 독립성 : DB의 논리적인 구조로 다양한 소프트웨어의 논리적 요구를 만족
#### 2. 데이터의 무결성
- 잘못된 데이터가 발생하는 경우의 수를 방지하는 기능으로 데이터의 유효성 검사를 통해 데이터의 무결성을 구현
#### 3. 데이터의 보안성
- 인가된 사용자들만 데이터베이스나 데이터베이스 내의 자원에 접근할 수 있도록 계정 관리 또는 접근 권한을 설정
#### 4. 데이터의 일관성
- 연관된 정보를 논리적인 구조로 관리
- 어떤 하나의 데이터만 변경했을 경우 발생할 수 있는 데이터의 불일치성을 배제
- 작업 중 일부 데이터만 변경되어 나머지 데이터와 일치하지 않는 경우의 수를 배제
#### 5. 데이터 중복 최소화
- 데이터를 통합해서 관리함으로써 데이터의 중복과 종속성 문제를 해결

### 용어
<br/>

### 1. 테이블 *Table*

- 행과 열로 이루어진 데이터의 집합
- **관계형 데이터베이스**에서는 테이블에 특별한 제약을 추가해서 **릴레이션(Relation)**이라고 부른다.
- 모든 릴레이션은 테이블 But, 모든 테이블이 릴레이션이지는 않음
- 현실의 객체를 반영
  
1. 모든 값은 유일한 값을 가진다.
2. 하나의 릴레이션에서 중복되는 행이 존재하면 안된다.

### 2. 행 *Row*

- 테이블을 구성하는 데이터들 중 가로로 묶은 데이터셋을 의미한다.
- 행은 한 객체에 대한 정보를 가짐 
- 관계형 데이터베이스에서의 **튜플** 또는 **레코드**

### 3. 열 *Column*

- 테이블을 구성하는 데이터들 중 세로로 묶은 데이터셋을 의미한다.
- 열은 테이블의 속성을 의미하며 열을 구성하는 값들은 같은 **도메인(Domain)**을 가짐
- 관계형 데이터베이스에서의 **속성(Attribute)**

### 4. 도메인 *Domain*

- 데이터베이스에서 한 속성이 가질 수 있는 값의 집합


### 5. 스키마 *Schema*

- DB의 전반적인 구조와 제약사항을 기술한 것
- DB를 구성하는 데이터 레코드의 크기, 키의 정의, 레코드 간의 관계 등을 정의
- 사용자의 관점에 따라 외부 스키마, 개념 스키마, 내부 스키마로 구분
- DBMS는 외부 스키마에 명세된 사용자의 요구를 개념 스키마 형태로 변환하고, 이를 다시 내부 스키마 형태로 변환

1. 외부 스키마

- 사용자의 입장에서 정의한 데이터베이스의 논리적 구조
- 데이터들을 어떤 형식, 구조, 화면을 통해 사용자에게 보여줄 것인가에 대한 명세
- 하나의 데이터베이스에는 여러 개의 외부 스키마가 존재 가능
- 일반 사용자에게는 질의어를 이용해 DB를 쉽게 사용할 수 있도록 하고 <br/>
    응용 프로그래머는 언어를 사용해서 DB에 접근하도록 한다.

2. 개념 스키마

- 조직체 전체를 관장하는 입장에서 DB를 정의한 스키마.
- DB에 대한 모든 논리적 구조를 기술하기 때문에 데이터베이스에 하나만 존재
- 스키마라고 하면 개념 스키마를 의미

1. 내부 스키마

- 데이터베이스가 어떻게 저장 장치에 저장될 지에 대한 명세
- 물리적인 저장 장치와 데이터베이스 간의 관계를 정의하므로 시스템 프로그래머나 시스템 설계자가 보는 관점의 스키마

## 보안 문제점 - *SQL Injection*
> 조작된 SQL 쿼리문이 데이터베이스에 그대로 전달되어 비정상적 명령을 실행시키는 공격방식
> 
> 인증 우회와 데이터를 노출시키는 방식이 존재

### 해결방법

- 사용자 입력에서 특수 문자 검사
    - 로그인 전, 검증 로직을 추가하여 미리 설정한 특수문자들이 들어왔을 때 요청을 막아낸다.

- SQL 서버 오류 발생 시, 에러 메시지 감추기

    - view를 활용해 원본 데이터베이스 테이블에는 접근 권한을 높임<br/> 
    일반 사용자는 view로만 접근하여 에러를 볼 수 없도록 만든다.

- prepare statement 사용하기
    - prepare statement를 사용하면 특수문자를 자동으로 escaping
    - statement와는 다르게 쿼리문에서 전달인자 값을 ?로 받는것
    - 이를 활용해 서버 측에서 필터링 과정을 통해서 공격을 방어


목차
- [RDBMS와 NoSQL](https://github.com/asci-00/TIL/blob/main/CS/DB/DBMS.md)
- [Key](https://github.com/asci-00/TIL/tree/main/CS/DB/Key.md)
- [Index](https://github.com/asci-00/TIL/blob/main/CS/DB/Index.md)
- [SQL과 Anomaly](https://github.com/asci-00/TIL/blob/main/CS/DB/SQL_Anomaly.md)
- [트렌젝션](https://github.com/asci-00/TIL/blob/main/CS/DB/Transaction.md)
- [정규화 Normalization](https://github.com/asci-00/TIL/blob/main/CS/DB/Nomalization.md)
