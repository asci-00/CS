# OSI 7계층
### 목차
- OSI 7계층
- 역할 및 프로토콜
- TCP/IP와 X.25


## [1. OSI 7계층]
<br/>

> 국제표준화기구에서 개발한 모델으로 네트워크 프로토콜 디자인과 통신을 계층으로 나눠 설명한 것
>
> 즉 네트워크 통신이 일어나는 과정을 상하 관계를 가지는 7단계로 나누어 놓은 것

![](https://madplay.github.io/img/post/2018-02-17-network-osi-7-layer-1.png)
*출처 : https://madplay.github.io/post/network-osi-7-layer*

**다른 단말기 사이는 동일한 계층끼리 해당 계층의 프로토콜을 사용하여 통신이 가능하며, 
<br/>한 단말기 내부에서는 상위 계층에서 하위 계층에서 제공해주는 인터페이스를 사용**

---
Q. 네트워크 통신을 7계층으로 나눈 이유가 무엇인가요?

A. 계층을 단계적으로 나눔으로서 아래와 같은 이점을 얻기 떄문 
> 1. 통신이 일어나는 과정을 단계적으로 파악할 수 있음
>    - 흐름을 한 눈에 알아보기 용이
>    - 통신에 이상이 생길 때, 문제가 발생한 부분을 파악하기가 용이
> 2. 계층 중 특정한 곳에 이상이 생기면 해당하는 계층의 장비나 소프트웨어만 수정하면 됨
> 3. 표준화를 통해 이질적인 포트 문제나 프로토콜 등으로 인한 문제를 해결하여 비용을 절감

<br/><br/>

## [2. 역할 및 프로토콜]
<br/>

> 각 계층은 다른 계층과 독립적으로 담당하는 역할이 존재하며,
>
> 다른 단말기와의 통신을 위해 해당 계층에서의 프로토콜을 제공

### 1. 물리 계층

> 전기적, 기계적, 기능적인 특성을 이용해서 통신 케이블로 데이터를 전송하는 계층

- 프로토콜 : RS-232, RS-449 등의 케이블
- 장비 : 허브 (L1 스위치), 리피터, 케이블
- 단위 : 비트 Bit
- 기능 : 물리적 데이터 전송

### 2. 데이터링크 계층

> 네트워크 계층 패킷 데이터를 물리적 매체에 실어 보내기 위한 계층
> 
> 인접한 두 노드(시스템) 신뢰성있는 전송을 보장
>
> - MAC 주소를 이용해 통신

- 프로토콜 : Ethernet(이더넷), PPP, HDLC, ALOHA, X.25 등
- 장비 : 브릿지, 스위치 (L2 스위치 = 스위칭 허브)
- 단위 : 프레임 Frame
- 기능 : 노드 Node to 노드 Node 의 흐름제어 / 오류제어를 수행
    - 오류제어 : 손상 또는 손실된 프레임을 검출 & 방지하기 위한 기능. 보통 프레임의 끝에 추가된 트레일러를 통해 오류 제어 기능 수행
    - 흐름제어 : 데이터 전송 시 수신자의 수신 능력이 송신자의 송신 능력보다 낮을 시, 송신측에서 데이터 흐름을 제어

### 3. 네트워크 계층

> 여러 개의 노드 사이 경로를 찾아주는 계층
> 
> 다양한 크기의 데이터를 목적지까지 가장 안전하고 빠르게 전달될 수 있도록 제어
>
> 전송 계층이 요구하는 서비스 품질을 제공하기 위한 기능적, 절차적 수단을 제공

- 프로토콜 : IP, RIP, ARP, ICMP
- 장비 : 라우터 (L3 스위치 = 공유기)
- 단위 : 패킷 Packet
- 기능 : Data를 Packet 단위로 분할 및 조립, 라우팅, 패킷 포워딩

### 4. 전송 계층

> 헤더에 송수신지 포트번호를 포함하여 올바르게 전달 될 수 있게 하는 계층
> 
> 패킷의 전송이 유효한지 확인, 전송에 실패된 패킷을 재전송 하는 등 신뢰성 있는 통신을 보장
> 
> 2계층과 기능이 비슷하지만 2계층은 인접한 노드 간 전송을, 전송계층은 종단간 End to End 간 전송을 제어 (송신측 - 수신측)

- 프로토콜 : TCP, UDP
- 장비 : 게이트웨이
- 단위 : Segment(TCP), Datagram(UDP)
- 기능
    - 연결 지향 데이터 스트림 지원
    - 분할과 재조립 : 상위 계층에서 내려온 세그먼트를 전송할 수 있는 세그먼트 단위로 나누고 순서번호를 부여하여 수신측에서 재조립(TCP)
    - 주소 설정
    - 연결 제어 : 비연결 전송 계층 또는 연결 지향형 전송 계층 기능을 수행
    - 오류제어 : 전체 세그먼트 오류(손상, 손실) 없이 수신측 전송 계층에 도착하도록 오류 제어 기능 수행 (보통 재전송을 통해 해결 - TCP)
    - 흐름 제어 : 단일 링크가 아닌 종단 간 흐름을 제어
    - 다중화

### 5. 세션 계층

> 응용 프로세스간 통신(대화)을 유지하기 위한 방법을 제공한다.
>
> 네트워크를 이용하여 통신하는 두 프로세스간 논리적인 연결
>
> 사용자 간의 대화(Dialog) 개념

- 프로토콜 : SMPP, SCP, PAP, NetBIOS
- 기능 : 접속 및 접속 해제, 데이터 교환, 대화 관리자(dialogue), 에러 복구

### 6. 표현 계층

> 데이터를 표현하는 계층 
>
> 응용계층의 데이터를 확장자를 통해 컴퓨터가 식별할 수 있도록 데이터 표현하는 방식(확장자)

- 프로토콜 : JPEG, ASCII, MPEG
- 기능 : 코드 변환, 구문 검색, 암호화, 복호화, 압축

### 7. 응용 계층

> 응용 프로세스와 직접 관계하여 일반적인 응용 서비스를 수행

- 프로토콜 : HTTP, FTP, DNS, SMTP, FTP
- 기능 : 연결 지향 데이터 스트림 지원, 주소 설정, 오류제어, 흐름 제어, 다중화

<br/><br/>

## [3. TCP/IP와 X.25]
<br/>

### TCP/IP 4계층

> TCP/IP 모델은 현재 인터넷에서 범용적으로 사용하는 TCP 프로토콜과 IP 프로토콜을 
> 
> OSI 7계층 형식에 맞추어 더 추상화 (or 간략화) 시킨 모델
> 
> 단순히 TCP가 IP 프로토콜과 같이 작동할 때 TCP/IP라고 불리기도 함<br/><br/>
> 
> 
> 네트워크 전송 시 데이터 표준을 정리한 것이 OSI 7계층이었다면, 
> 
> 이 이론을 실제로 사용하는 인터넷 표준이 TCP/IP 모델

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FEhzi5%2FbtqErLLHrZY%2Fn4k4Uht5svcVVJWAGPVJfK%2Fimg.png)
*출처 : https://owlyr.tistory.com/13*

1. ### 네트워크 인터페이스 계층 *Network Interface, Network Access*
    - OSI 계층의 **1,2 계층**에 해당
    - TCP/IP 패킷을 네트워크 매체로 전달하는 것과 <br/>
    네트워크 매체에서 TCP/IP 패킷을 받아들이는 과정을 담당
    - 에러 검출 기능과 패킷의 프레임화 기능을 수행
    - 네트워크 접근 방법, 프레임 포맷, 매체에 대해 독립적으로 동작하도록 설계
    - 흐름 제어(Flow Control)는 Header(MAC)에서, 에러 제어(Error Control)는 Tailer(CRC)에서 수행

2. ### 인터넷 계층 *Internet*
    - OSI 계층에서 **3계층**에 해당
    - 어드레싱(addressing), 패키징(packaging), 라우팅(routing) 기능을 제공
    - 논리적 주소인 IP를 이용한 노드간 전송과 라우팅 기능을 처리
    - 네트워크상 최종 목적지까지 정확하게 연결되도록 연결성을 제공
    - 프로토콜 : IP, ARP, ICMP, IGMP 등

3. ### 전송 계층 (Transport)
    - OSI 계층에서 **3,4 계층**에 해당
    - 자료의 송수신을 담당
    - 어플리케이션 계층의 세션과 데이터그램 통신서비스를 제공
    - 프로토콜 : TCP, UDP

4. ### 응용 프로그램 계층 (Application)
    - OSI 상위 계층에 해당
    - 다른 계층의 서비스에 접근할 수 있게 하는 어플리케이션을 제공
    - 어플리케이션들이 데이터를 교환하기 위해 사용하는 프로토콜을 정의
    - TCP/IP 네트워크를 사용하거나 관리하는 것을 도와주는 프로토콜


### X.25
> DTE *Data Terminal Equipment* 와 DCE *Data Circuit-terminating Equipment* 간의 인터페이스를 제공, 
> 
> 패킷 교환망을 통해 패킷을 원할히 전달하기 위한 통신 절차

```
TCP/IP와 유사하지만 비교적 느린 속도 But, 안전성과 보안성이 우수
금융권 내부망에서 주로 쓰였으나, TCP/IP위주의 HW/SW가 대세를 이루면서 
TCP/IP의 보안성과 안정성을 해결하는 솔루션을 사용하는 금융권도 존재
```

#### 특징
- 연결형 프로토콜, 흐름제어, 오류제어
- 강력한 오류 체크 기능으로 높은 신뢰성
- 한 회선 장애가 발생해도 우회 전송 가능
- 가상 회선 방식을 이용하여 효율성 증대

X.25는 네트워크 계층 프로토콜로 알려져 있지만, 물리, 데이터링크, 네트워크 계층을 포함함

<img src="https://user-images.githubusercontent.com/22098393/150134950-d551658c-b0b1-4ccb-8d60-062a3b14dd38.png" width="600"/>

