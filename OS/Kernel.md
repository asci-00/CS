# Kernel과 Interface

### 목차
- 운영체제 구조
- 커널
- 드라이버

<br/><br/>

---

## 운영체제 구조

> OS의 종류마다 세부적인 구조는 상이하지만
> 
> 일반적으로 아래와 같은 구조를 가진다

![image](https://user-images.githubusercontent.com/22098393/143531712-0f619d77-a601-4236-826b-e1fb813e4a5c.png)

<br/><br/>

---

## 커널

> 운영체제에서 핵심적인 역할을 하는 부분

### 기능

| 핵심 기능	| 설명 |
|---|---|
| 프로세스 관리 |	프로세스에 CPU 배분 및 필요한 작업 환경 제공 |
| 메모리 관리 |	프로세스에 작업 공간을 배치하고 실제 메모리보다 큰 가상공간 제공 |
| 파일 시스템 관리 |	데이터 저장 및 접근 가능한 인터페이스 제공 |
| 입출력 관리 |	필요한 입출력 서비스 제공 |
| 프로세스 간 통신 관리 |	공동 작업을 위한 프로세스 간 통신 환경 지원 |

### 종류

> 커널의 구조에 따라 단일형, 계층형, 마이크로형이 존재

### `단일형 구조` *Monolithic Architecture*

> 핵심 모듈간 분리가 되어있지 않고 하나로 구현되어있음
> 
> 초기 기능 구현이 우선적으로 완료되어야 했을 때, 사용되었던 구조

![image](https://user-images.githubusercontent.com/22098393/143541425-2797ed0c-0805-4d6e-9790-b9b70f7efd93.png)

#### 장점

- 모듈 간 통신 비용이 줄어들어 효율적인 운영이 가능

#### 단점

- 버그나 오류에 대처하기 번거로움
- 하나의 에러가 시스템 전체에 영향을 미치고, 다양한 환경의 시스템에 적용하기 어려움
- 확장성과 유지보수성이 떨어짐


### `계층형 구조` *Layered Architecture*

> 비슷한 기능을 가진 모듈을 묶어 하나의 계층으로 만들고 계층 간 통신

![image](https://user-images.githubusercontent.com/22098393/143541807-26b2f5d6-4cfa-42b3-a7d6-7189365c4a21.png)

#### 장점

- 단일형 구조 커널을 발전한 형태입니다. 
- 기능을 분류하여 모아놓음으로 버그나 오류를 쉽게 처리할 수 있음
- 오류가 발생하면 전체 커널이 아니라 해당 계층만 수정하면 되어 디버깅(Debugging)도 쉬움
- 오늘날의 운영체제는 대부분 이 구조로 이루어져 있음

#### 단점

- 하나의 계층에 이상이 생기면 위, 아래 계층도 동작하지 못할 수 있음
- 하드웨어의 용량도 늘어남

### `마이크로 구조` *Micro Architecture*

> 운영체제가 프로세스 관리, 메모리 관리, 프로세스 간 통신 관리 등 가장 기본적인 기능만 제공
> 
> 나머지는 사용자 영역에 구현을 하는 구조

![image](https://user-images.githubusercontent.com/22098393/143542986-fa25184d-52ba-4a5b-9c49-2382d32d21c4.png)

#### 장점

- 커널의 크기가 작으므로 커널과 일부 서비스만으로 작은 운영체제를 구성하여 임베디드 시스템에 사용할 수 있음
- 하나의 커널로 다수의 운영체제를 동시에 수행시킬 수 있음
- 이식성이 좋다.
- 모듈 크기가 굉장히 작아졌기 때문에 안정성이 높아졌다.
- 각 모듈이 독립적으로 작동하기 때문에 하나의 모듈이 실패하더라도 전체 운영체제가 멈추지 않는다.

#### 단점

- 잦은 통신이 필요하기 때문에 성능 저하의 우려가 있음

<br/><br/>

---

## 드라이버

> 커널과 하드웨어의 인터페이스
> 
> 출력의 기본적인 부분만 제작하고, 하드웨어의 특성을 반영한 소프트웨어 *Device Driver* 를 커널이 실행될 때 함께 실행
> 
> 마우스, 키보드 같은 디바이스 드라이버는 커널에 포함되어 있어 컴퓨터에 연결 하면 바로 작동됨 
> 
> But, 프린터, 스캐너 같은 복잡한 디바이스 드라이버는 사용자가 직접 설치

